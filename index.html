<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Logic of Peace - Paticcasamuppada Version</title>
    <style>
        body {
            background-color: #000;
            color: #fff;
            font-family: 'Courier New', Courier, monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
            transition: background-color 2.5s ease;
        }
        #display {
            text-align: left;
            font-size: 1.5rem;
            line-height: 2.2;
            max-width: 80%;
        }
        .peace-mode {
            background-color: #fff !important;
            color: #000 !important;
        }
    </style>
</head>
<body>
    <div id="display">Awaiting Consciousness...</div>

    <script>
        // ปรับลำดับตามหลักปฏิจจสมุปบาท: วิญญาณมาก่อน
        const aggregates = ["Consciousness", "Body", "Feeling", "Perception", "Mental Formations"];
        const display = document.getElementById('display');
        const body = document.body;

        async function startProcess() {
            while (true) {
                body.classList.remove('peace-mode');
                display.innerHTML = "";
                let totalWeight = 0;

                // Loop 1-5: The Accumulation (2.4s interval)
                for (let i = 0; i < aggregates.length; i++) {
                    await new Promise(r => setTimeout(r, 2400));
                    
                    let weight = Math.floor(Math.random() * 81) + 20; 
                    totalWeight += weight;
                    
                    display.innerHTML += `<div>[ Carrying ] ${aggregates[i].padEnd(17)} : +${weight}</div>`;
                }

                // Show Total
                await new Promise(r => setTimeout(r, 2000));
                display.innerHTML += `<div style="margin-top:20px; border-top: 1px solid #444;">TOTAL BURDEN: ${totalWeight}</div>`;
                
                // Pause for final realization
                await new Promise(r => setTimeout(r, 3000)); 
                
                // Step 6: The Celebration of Peace (18s interval)
                body.classList.add('peace-mode');
                display.innerHTML = `<div style="text-align:center; font-style:italic;">
                    "Releasing the burden from heart is the peace in the Life World."
                    <br><br>
                    <span style="font-size: 0.8rem;">( Pure Zero State )</span>
                </div>`;

                await new Promise(r => setTimeout(r, 18000)); 
            }
        }

        startProcess();
    </script>
</body>
</html>
